import { useSyncExternalStore } from 'react'
const SUPPORTED = ['en','es'] as const
type Lang = typeof SUPPORTED[number]
function coerceLang(x: any): Lang { return (SUPPORTED as readonly string[]).includes(x) ? x as Lang : 'en' }
const DEFAULT: Lang = coerceLang(localStorage.getItem('lang'))
let current: Lang = DEFAULT
const listeners = new Set<() => void>()
export function setLang(l: any){ current = coerceLang(l); localStorage.setItem('lang', current); listeners.forEach(cb=>cb()) }
export function useLang(){ return useSyncExternalStore(sub=>{ listeners.add(sub); return ()=>listeners.delete(sub) }, ()=>current, ()=>current) }

const dict: Record<Lang, Record<string,string>> = {
  en: {
    'brand.title': 'Grecia Vargas',
    'brand.role': 'Grecia Vargas\ninternational Private Chef', // ✅ Actualizado con \n pa que "international Private Chef" quede debajo de "Grecia Vargas"

    // === Title split en dos líneas ===
    'hero.title': 'Mediterranean elegance, crafted for you',
    'hero.title.top': 'Mediterranean elegance, crafted',
    'hero.title.bottom': 'for you',

    'hero.subtitle': 'Seasonal, local & elegant cuisine for yachts, villas and intimate celebrations.',
    'hero.cta.availability': 'Check availability',
    'hero.cta.whatsapp': 'WhatsApp',

    'nav.about': 'About',
    'nav.experiences': 'Experiences',
    'nav.menus': 'Menus',
    'nav.gallery': 'Gallery',
    'nav.contact': 'Contact',

    'about.title': 'About',
    'about.kicker': 'Venezuelan–Spanish · Based in Barcelona · Global chef',
    'about.lead1': 'Grecia is a Venezuelan–Spanish private chef based in Barcelona. She designs world-class Mediterranean experiences with a truly global point of view.',
    'about.lead2': 'Her cuisine is seasonal, elegant and product-driven — shaped by journeys through Japan, Thailand, the Caribbean and across Europe.',
    'about.badge.global': 'Global mindset',
    'about.badge.mediterranean': 'Mediterranean soul',
    'about.badge.studio': 'Studio dinners',
    'about.badge.yachts': 'Yacht chef',
    'about.badge.villas': 'Villas & residences',
    'about.highlight.global': 'Asia • Europe • Caribbean',
    'about.highlight.languages': 'Speaks ES / EN',
    'about.highlight.bespoke': 'Bespoke tasting menus',
    'about.highlight.sourcing': 'Local sourcing',

    'experiences.title': 'Experiences',
    'experiences.subtitle': 'Private dining & global pop-ups engineered as sensory journeys — product-first cuisine, elegant pacing and hospitality you feel.',
    'experiences.lead': 'Grecia focuses on product quality and the guest experience. Her global pop-ups and private dinners are renowned not only for the food and presentation, but for the way they guide the senses — music, light and cadence turn each course into a scene.',
    'experiences.cards.studio.title': 'Studio Private Dining',
    'experiences.cards.studio.desc': 'Bespoke tasting menus in an intimate setting. Thoughtful pacing and a soundtrack that supports each course.',
    'experiences.cards.studio.b1': 'Seasonal, market-led produce',
    'experiences.cards.studio.b2': '6–14 guests (ideal)',
    'experiences.cards.studio.b3': 'Candlelight & curated sound',
    'experiences.cards.yacht.title': 'Yacht Chef',
    'experiences.cards.yacht.desc': 'Sea-to-table elegance for guests & crew with discreet, seamless service from dawn to dusk.',
    'experiences.cards.yacht.b1': 'Local sourcing at each port',
    'experiences.cards.yacht.b2': 'Breakfast to late service',
    'experiences.cards.yacht.b3': 'Wellness-minded options',
    'experiences.cards.villas.title': 'Villas & Events',
    'experiences.cards.villas.desc': 'Intimate celebrations in residences and boutique venues — live finishing and warm, attentive hosting.',
    'experiences.cards.villas.b1': 'Tailored to the occasion',
    'experiences.cards.villas.b2': 'Signature dessert finales',
    'experiences.cards.villas.b3': 'Coordinated table styling',
    'experiences.pillars.product.title': 'Product-first',
    'experiences.pillars.product.desc': 'Seasonality and provenance lead every decision.',
    'experiences.pillars.sensory.title': 'Multi-sensory flow',
    'experiences.pillars.sensory.desc': 'Sound, light and pacing designed to heighten flavor.',
    'experiences.pillars.global.title': 'Global pop-ups',
    'experiences.pillars.global.desc': 'Influences from Japan, Thailand, the Caribbean and Europe.',
    'experiences.pillars.service.title': 'Impeccable service',
    'experiences.pillars.service.desc': 'Warm, precise, unobtrusive — hospitality at its best.',
    'experiences.ribbon.1': 'Asia • Europe • Caribbean',
    'experiences.ribbon.2': 'Private dinners & pop-ups',
    'experiences.ribbon.3': 'Bespoke tasting menus',
    'experiences.ribbon.4': 'ES / EN',

    'menus.title': 'Sample Menus',
    'menus.light': 'Healthy & Light',
    'menus.signature': 'Celebration & Signature',

    'gallery.title': 'Gallery',

    'cta.title': "Let's craft your menu",
    'cta.subtitle': 'Tell us your date, location, dietary preferences and guest count.',
    'cta.button': 'Request proposal',

    // Footer
    'footer.powered': 'powered by Bittech Network',
    'footer.tagline': 'Crafted with seasonal ingredients, global perspective & impeccable service.',

    // How it works
    'how.title': 'How it works',
    'how.subtitle': 'Brief → Bespoke menu → Sourcing → Service → Cleanup',
    'how.lead': 'Precision planning, Mediterranean soul and a global point of view. From yacht galleys to private studios, we design dinners that feel effortless — and unforgettable.',
    'how.step.brief': 'Brief',
    'how.step.menu': 'Menu',
    'how.step.sourcing': 'Sourcing',
    'how.step.service': 'Service',
    'how.step.cleanup': 'Cleanup',
    'how.step.brief.blurb': 'We listen first: date, location, guests, dietary notes and the feeling you want to create.',
    'how.step.menu.blurb': 'Bespoke tasting menu aligned with seasonality and your preferences — elegant pacing, course by course.',
    'how.step.sourcing.blurb': 'Product-first sourcing from trusted markets and artisans. Fresh, local, traceable.',
    'how.step.service.blurb': 'Multi-sensory hospitality: music, light and cadence that elevate flavor without stealing the scene.',
    'how.step.cleanup.blurb': 'Spotless finish. Your home or venue returns to calm — the memory stays.',
    'how.ribbon.travel': 'We travel worldwide with advance notice — subject to calendar and logistics.',
    'how.ribbon.fomo': 'Limited dates each month. Early booking secures preferred dates and sourcing.',

    // Services
    'services.title': 'Services',
    'services.subtitle': 'Studio private dining · Yacht chef · Villas & intimate events',
    'services.lead': 'From Barcelona to the Balearics and anywhere your celebration takes you. Studio dinners, yacht galleys and villas worldwide, always product-first and elegantly paced.',
    'services.tag.fullservice': 'Full service',
    'services.tag.product': 'Product-first',
    'services.tag.wellness': 'Wellness options',
    'services.tag.styling': 'Table styling',
    'services.tag.languages': 'ES / EN',
    'services.tag.pairings': 'Wine pairings',
    'services.badge.most': 'Most requested',
    'services.cards.studio.title': 'Studio Private Dining',
    'services.cards.studio.desc': 'Tasting menu at a private studio in central Barcelona — intimate, paced and beautifully staged.',
    'services.cards.studio.b1': '6–14 guests (ideal)',
    'services.cards.studio.b2': 'Bespoke tasting menu',
    'services.cards.studio.b3': 'Candlelight & curated sound',
    'services.cards.yacht.title': 'Yacht Chef',
    'services.cards.yacht.desc': 'Seasonal market cuisine on board for guests & crew — discreet service from sunrise to late.',
    'services.cards.yacht.b1': 'Local sourcing at each port',
    'services.cards.yacht.b2': 'Breakfast to late service',
    'services.cards.yacht.b3': 'Wellness-minded options',
    'services.cards.villas.title': 'Villas & Events',
    'services.cards.villas.desc': 'Private homes, villas and special celebrations — live finishing, warm hosting and immaculate plating.',
    'services.cards.villas.b1': 'Full service & cleanup',
    'services.cards.villas.b2': 'Table styling & rentals',
    'services.cards.villas.b3': 'Menu tasting on request',
    'services.ribbon.1': 'Barcelona • Balearics • Côte d’Azur',
    'services.ribbon.2': 'Worldwide travel with notice',
    'services.ribbon.3': 'ES / EN',
    'services.ribbon.4': 'Limited dates each month'
  },

  // ⬇️ Español: SIN CAMBIOS (pero si quieres consistencia, podrías agregar \n en 'brand.role': 'Grecia Vargas\nChef Privada')
  es: {
    'brand.title': 'Grecia Vargas',
    'brand.role': 'Chef Privada',

    'hero.title': 'Elegancia mediterránea hecha a tu medida',
    'hero.subtitle': 'Cocina de temporada, local y elegante para yates, villas y celebraciones íntimas.',
    'hero.cta.availability': 'Consultar disponibilidad',
    'hero.cta.whatsapp': 'WhatsApp',

    'nav.about': 'Sobre mí',
    'nav.experiences': 'Experiencias',
    'nav.menus': 'Menús',
    'nav.gallery': 'Galería',
    'nav.contact': 'Contacto',

    'about.title': 'Sobre mí',
    'about.kicker': 'Venezolana–española · Basada en Barcelona · Chef global',
    'about.lead1': 'Grecia es una chef privada venezolana–española afincada en Barcelona. Diseña experiencias mediterráneas de nivel mundial con una visión verdaderamente global.',
    'about.lead2': 'Su cocina es de temporada, elegante y centrada en el producto — influenciada por viajes por Japón, Tailandia, el Caribe y toda Europa.',
    'about.badge.global': 'Mirada global',
    'about.badge.mediterranean': 'Alma mediterránea',
    'about.badge.studio': 'Cenas en estudio',
    'about.badge.yachts': 'Yacht chef',
    'about.badge.villas': 'Villas & residencias',
    'about.highlight.global': 'Asia • Europa • Caribe',
    'about.highlight.languages': 'Habla ES / EN',
    'about.highlight.bespoke': 'Menús degustación a medida',
    'about.highlight.sourcing': 'Producto local',

    'experiences.title': 'Experiencias',
    'experiences.subtitle': 'Cenas privadas y pop-ups globales concebidos como viajes sensoriales — cocina centrada en el producto, ritmo elegante y hospitalidad que se siente.',
    'experiences.lead': 'Grecia se enfoca en la calidad del producto y la experiencia del invitado. Sus pop-ups y cenas privadas son reconocidos no solo por la comida y la presentación, sino por la forma en que guían los sentidos — música, luz y cadencia convierten cada pase en una escena.',
    'experiences.cards.studio.title': 'Studio Private Dining',
    'experiences.cards.studio.desc': 'Menús degustación a medida en un entorno íntimo. Ritmo pensado y banda sonora que acompaña cada pase.',
    'experiences.cards.studio.b1': 'Producto de temporada y mercado',
    'experiences.cards.studio.b2': '6–14 comensales (ideal)',
    'experiences.cards.studio.b3': 'Velas y sonido curado',
    'experiences.cards.yacht.title': 'Yacht Chef',
    'experiences.cards.yacht.desc': 'Elegancia mar-a-mesa para invitados y tripulación, con servicio discreto y fluido de amanecer a noche.',
    'experiences.cards.yacht.b1': 'Abastecimiento local en cada puerto',
    'experiences.cards.yacht.b2': 'Desde desayunos hasta tarde',
    'experiences.cards.yacht.b3': 'Opciones wellness',
    'experiences.cards.villas.title': 'Villas & Events',
    'experiences.cards.villas.desc': 'Celebraciones íntimas en residencias y espacios boutique — acabados en vivo y hospitalidad cercana.',
    'experiences.cards.villas.b1': 'Adaptado a la ocasión',
    'experiences.cards.villas.b2': 'Finales de postre firma',
    'experiences.cards.villas.b3': 'Estilismo de mesa coordinado',
    'experiences.pillars.product.title': 'Producto primero',
    'experiences.pillars.product.desc': 'La estacionalidad y el origen guían cada decisión.',
    'experiences.pillars.sensory.title': 'Flujo multisensorial',
    'experiences.pillars.sensory.desc': 'Sonido, luz y ritmo diseñados para realzar el sabor.',
    'experiences.pillars.global.title': 'Pop-ups globales',
    'experiences.pillars.global.desc': 'Influencias de Japón, Tailandia, el Caribe y Europa.',
    'experiences.pillars.service.title': 'Servicio impecable',
    'experiences.pillars.service.desc': 'Cálido, preciso y discreto — hospitalidad en su mejor versión.',
    'experiences.ribbon.1': 'Asia • Europa • Caribe',
    'experiences.ribbon.2': 'Cenas privadas & pop-ups',
    'experiences.ribbon.3': 'Menús degustación a medida',
    'experiences.ribbon.4': 'ES / EN',

    'menus.title': 'Menús de muestra',
    'menus.light': 'Ligero & Saludable',
    'menus.signature': 'Celebración & Firma',

    'gallery.title': 'Galería',

    'cta.title': 'Diseñemos tu menú',
    'cta.subtitle': 'Cuéntanos fecha, lugar, preferencias alimentarias y número de comensales.',
    'cta.button': 'Solicitar propuesta',

    // Footer
    'footer.powered': 'powered by Bittech Network',
    'footer.tagline': 'Diseñado con ingredientes de temporada, visión global y un servicio impecable.',

    // Cómo funciona
    'how.title': 'Cómo funciona',
    'how.subtitle': 'Brief → Menú a medida → Sourcing → Servicio → Limpieza',
    'how.lead': 'Planificación precisa, alma mediterránea y mirada global. De cocinas en yate a estudios privados, diseñamos cenas que se sienten fluidas — e inolvidables.',
    'how.step.brief': 'Brief',
    'how.step.menu': 'Menú',
    'how.step.sourcing': 'Sourcing',
    'how.step.service': 'Servicio',
    'how.step.cleanup': 'Limpieza',
    'how.step.brief.blurb': 'Primero escuchamos: fecha, lugar, invitados, notas dietéticas y la atmósfera que quieres crear.',
    'how.step.menu.blurb': 'Menú degustación a medida alineado con la temporada y tus preferencias — ritmo elegante, pase a pase.',
    'how.step.sourcing.blurb': 'Selección de producto con prioridad absoluta al origen: mercados y artesanos de confianza.',
    'how.step.service.blurb': 'Hospitalidad multisensorial: música, luz y cadencia que elevan el sabor sin robar la escena.',
    'how.step.cleanup.blurb': 'Cierre impecable. Tu casa o venue vuelve a la calma — el recuerdo permanece.',
    'how.ribbon.travel': 'Viajamos a cualquier parte del mundo con antelación — sujeto a calendario y logística.',
    'how.ribbon.fomo': 'Fechas limitadas cada mes. Reservar con tiempo asegura fechas preferidas y mejor sourcing.',

    // Servicios
    'services.title': 'Servicios',
    'services.subtitle': 'Cenas en estudio · Yacht chef · Villas & eventos íntimos',
    'services.lead': 'De Barcelona a Baleares y adonde te lleve la celebración. Estudio, yates y villas en todo el mundo, siempre con producto primero y un ritmo elegante.',
    'services.tag.fullservice': 'Servicio completo',
    'services.tag.product': 'Producto primero',
    'services.tag.wellness': 'Opciones wellness',
    'services.tag.styling': 'Estilismo de mesa',
    'services.tag.languages': 'ES / EN',
    'services.tag.pairings': 'Maridajes',
    'services.badge.most': 'Más demandado',
    'services.cards.studio.title': 'Studio Private Dining',
    'services.cards.studio.desc': 'Menú degustación en estudio privado en el centro de Barcelona — íntimo, con ritmo y mise-en-scène impecable.',
    'services.cards.studio.b1': '6–14 comensales (ideal)',
    'services.cards.studio.b2': 'Menú degustación a medida',
    'services.cards.studio.b3': 'Velas y sonido curado',
    'services.cards.yacht.title': 'Yacht Chef',
    'services.cards.yacht.desc': 'Cocina de mercado a bordo para invitados y tripulación — servicio discreto de amanecer a noche.',
    'services.cards.yacht.b1': 'Abastecimiento local en cada puerto',
    'services.cards.yacht.b2': 'Desde desayunos hasta tarde',
    'services.cards.yacht.b3': 'Opciones wellness',
    'services.cards.villas.title': 'Villas & Events',
    'services.cards.villas.desc': 'Residencias privadas, villas y celebraciones especiales — acabados en vivo, hospitalidad cálida y emplatado impecable.',
    'services.cards.villas.b1': 'Servicio completo & limpieza',
    'services.cards.villas.b2': 'Estilismo de mesa & rentals',
    'services.cards.villas.b3': 'Tasting de menú (bajo solicitud)',
    'services.ribbon.1': 'Barcelona • Baleares • Côte d’Azur',
    'services.ribbon.2': 'Viaje mundial con aviso',
    'services.ribbon.3': 'ES / EN',
    'services.ribbon.4': 'Fechas limitadas por mes'
  }
}
export function t(key: string, lang: any){ const table = dict[coerceLang(lang)]; return table[key] ?? key }